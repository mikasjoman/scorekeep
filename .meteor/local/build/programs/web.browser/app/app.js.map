{"version":3,"sources":["meteor://ðŸ’»app/client/main.js","meteor://ðŸ’»app/imports/api/players.js","meteor://ðŸ’»app/imports/ui/AddPlayer.js","meteor://ðŸ’»app/imports/ui/App.js","meteor://ðŸ’»app/imports/ui/Player.js","meteor://ðŸ’»app/imports/ui/PlayerList.js","meteor://ðŸ’»app/imports/ui/TitleBar.js"],"names":["React","Component","ReactDOM","Meteor","Tracker","Players","calculatePlayerPositions","App","startup","autorun","players","find","sort","score","fetch","positionedPlayers","render","document","getElementById","Mongo","numeral","Collection","rank","map","player","index","position","format","AddPlayer","handleSumbit","event","preventDefault","playerName","target","value","insert","name","bind","TitleBar","PlayerList","props","title","propTypes","PropTypes","string","isRequired","array","Player","key","itemClassName","update","_id","$inc","remove","object","FlipMove","renderPlayers","length","renderSubTitle","subTitle","defaultProps"],"mappings":"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","file":"/app.js","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Meteor } from 'meteor/meteor';\nimport { Tracker } from 'meteor/tracker'\n\nimport { Players, calculatePlayerPositions } from '../imports/api/players';\n//my own\nimport App from '../imports/ui/App';\n\nMeteor.startup(() => {\n  Tracker.autorun(() => {\n    var players = Players.find({}, {\n        sort: {\n          score: 1\n        }\n      }).fetch();\n\n    let positionedPlayers = calculatePlayerPositions(players);\n\n    ReactDOM.render(<App players={positionedPlayers} title=\"Hello\" />, document.getElementById('app'));\n  });\n\n});\n","import { Mongo } from 'meteor/mongo';\nimport numeral from 'numeral';\n\nexport const Players = new Mongo.Collection('players'); // constructor function\n\nexport const calculatePlayerPositions = (players) => {\n  let rank = 1;\n\n  return players.map((player, index) => {\n    if( index !== 0 && players[index-1].score <= player.score) {\n      rank++;\n    }\n\n    return {\n      ...player,\n      rank,\n      position: numeral(rank).format('0o')\n    }\n  });\n};\n","import React, { Component } from 'react';\nimport { Players } from '../api/players';\n\n\nexport default class AddPlayer extends Component {\n\n  handleSumbit(event) {\n    event.preventDefault();\n    let playerName  = event.target.playerName.value;\n    debugger;\n    if (playerName){\n      event.target.playerName.value = \"\"; // reset the form\n      Players.insert({\n        name: playerName,\n        score: 0\n      });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"item\">\n        <form className=\"form\" onSubmit={this.handleSumbit.bind(this)}>\n          <input className=\"form__input\" type=\"text\" name=\"playerName\" placeholder=\"Player name\"/>\n          <button className=\"button\">Add player</button>\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport TitleBar from './TitleBar';\nimport AddPlayer from './AddPlayer';\nimport PlayerList from './PlayerList';\n\nexport default class App extends Component {\n\n  render() {\n    return (\n      <div>\n        <TitleBar\n          title={this.props.title}\n          subTitle=\"Created by Mikael S\"\n        />\n        <div className=\"wrapper\">\n          <PlayerList players={this.props.players}/>\n          <AddPlayer />\n        </div>\n      </div>\n    );\n  }\n}\n\nApp.propTypes ={\n  title: React.PropTypes.string.isRequired,\n  players: React.PropTypes.array.isRequired\n}\n","import React, { Component } from 'react';\nimport { Players } from '../api/players';\n\n\nexport default class Player extends Component {\n\n\n  render() {\n    let { player, key } = this.props;\n\n    let itemClassName = `item item--position-${player.rank}`;\n\n    return (\n      <div className={itemClassName} key={this.props.key}>\n        <div className=\"player\">\n          <div>\n            <h3 className=\"player__name\">{ player.name }</h3>\n            <p className=\"player__stats\">\n\n              {player.rank},\n              {player.position} place,\n              score: {player.score}\n            </p>\n          </div>\n          <div className=\"player__actions\">\n            <button\n              className=\"button button--round \"\n              onClick={()=> Players.update(\n             player._id ,\n              { $inc: { score: 1 } }\n            )}>+1</button>\n\n            <button\n              className=\"button button--round \"\n              onClick={() => Players.remove({_id: player._id}) }\n            >X</button>\n\n            <button\n               className=\"button button--round \"\n               onClick={() => Players.update(\n              player._id, { $inc: { score: -1 }}\n            )}>-1</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPlayer.propTypes ={\n  player : React.PropTypes.object.isRequired\n}\n","import React, { Component } from 'react';\nimport FlipMove from 'react-flip-move';\n\nimport Player from './Player';\n\nexport default class PlayerList extends Component {\n\n  renderPlayers() {\n    if(this.props.players.length === 0){\n      return (\n        <div className=\"item\">\n          <p className=\"item__message--empty\">No players in db</p>\n        </div>\n      );\n    }\n    return this.props.players.map(player => {\n        return <Player key={player._id} player={player}/>\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <FlipMove\n          maintainContainerHeight={true}\n        >\n          {this.renderPlayers()}\n        </FlipMove>\n      </div>\n    );\n  }\n}\n\nPlayerList.propTypes = {\n  players: React.PropTypes.array.isRequired\n}\n","import React, { Component } from 'react';\n\nexport default class TitleBar extends Component {\n\n  renderSubTitle() {\n    if(this.props.subTitle) {\n      return <h2 className=\"title-bar__subtitle\">{this.props.subTitle}</h2>;\n    }\n  }\n  render() {\n    return (\n      <div className=\"title-bar\">\n        <div className=\"wrapper\">\n          <h1>{this.props.title}</h1>\n          {this.renderSubTitle()}\n        </div>\n      </div>\n    );\n  }\n}\n\nTitleBar.propTypes = {\n  title: React.PropTypes.string.isRequired\n}\nTitleBar.defaultProps = {\n  title: 'Default title'\n}\n"]}