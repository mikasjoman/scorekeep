{"metadata":{"usedHelpers":["extends"],"marked":[],"modules":{"imports":[{"source":"meteor/mongo","imported":["Mongo"],"specifiers":[{"kind":"named","imported":"Mongo","local":"Mongo"}]},{"source":"numeral","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"numeral"}]}],"exports":{"exported":["Players","calculatePlayerPositions"],"specifiers":[{"kind":"local","local":"Players","exported":"Players"},{"kind":"local","local":"calculatePlayerPositions","exported":"calculatePlayerPositions"}]}}},"options":{"filename":"/imports/api/players.js","filenameRelative":"/imports/api/players.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/api/players.js.map","sourceFileName":"/imports/api/players.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"players"},"ignored":false,"code":"module.export({Players:function(){return Players},calculatePlayerPositions:function(){return calculatePlayerPositions}});var _extends;module.import('babel-runtime/helpers/extends',{\"default\":function(v){_extends=v}});var Mongo;module.import('meteor/mongo',{\"Mongo\":function(v){Mongo=v}});var numeral;module.import('numeral',{\"default\":function(v){numeral=v}});\n\n\n\nvar Players = new Mongo.Collection('players'); // constructor function\n\nvar calculatePlayerPositions = function calculatePlayerPositions(players) {\n  var rank = 1;\n\n  return players.map(function (player, index) {\n    if (index !== 0 && players[index - 1].score <= player.score) {\n      rank++;\n    }\n\n    return _extends({}, player, {\n      rank: rank,\n      position: numeral(rank).format('0o')\n    });\n  });\n};","ast":null,"map":{"version":3,"sources":["/imports/api/players.js"],"names":["Mongo","numeral","Players","Collection","calculatePlayerPositions","players","rank","map","player","index","score","position","format"],"mappings":";AAAA,SAASA,KAAT,QAAsB,cAAtB;AACA,OAAOC,OAAP,MAAoB,SAApB;;AAEA,OAAO,IAAMC,UAAU,IAAIF,MAAMG,UAAV,CAAqB,SAArB,CAAhB,C,CAAiD;;AAExD,OAAO,IAAMC,2BAA2B,SAA3BA,wBAA2B,CAACC,OAAD,EAAa;AACnD,MAAIC,OAAO,CAAX;;AAEA,SAAOD,QAAQE,GAAR,CAAY,UAACC,MAAD,EAASC,KAAT,EAAmB;AACpC,QAAIA,UAAU,CAAV,IAAeJ,QAAQI,QAAM,CAAd,EAAiBC,KAAjB,IAA0BF,OAAOE,KAApD,EAA2D;AACzDJ;AACD;;AAED,wBACKE,MADL;AAEEF,gBAFF;AAGEK,gBAAUV,QAAQK,IAAR,EAAcM,MAAd,CAAqB,IAArB;AAHZ;AAKD,GAVM,CAAP;AAWD,CAdM","file":"/imports/api/players.js.map","sourcesContent":["import { Mongo } from 'meteor/mongo';\nimport numeral from 'numeral';\n\nexport const Players = new Mongo.Collection('players'); // constructor function\n\nexport const calculatePlayerPositions = (players) => {\n  let rank = 1;\n\n  return players.map((player, index) => {\n    if( index !== 0 && players[index-1].score <= player.score) {\n      rank++;\n    }\n\n    return {\n      ...player,\n      rank,\n      position: numeral(rank).format('0o')\n    }\n  });\n};\n"]},"hash":"520437f33114519125874dee7b705cce9d91d824"}
